import pandas as pd
import matplotlib.pyplot as plt
import io

# --- DATA: Resistance (20 Days) ---
res_csv = """SoC,Day_1,Day_2,Day_3,Day_4,Day_5,Day_6,Day_7,Day_8,Day_9,Day_10,Day_11,Day_12,Day_13,Day_14,Day_15,Day_16,Day_17,Day_18,Day_19,Day_20
10,6.54,6.48,6.48,6.40,6.41,6.58,6.39,6.38,6.46,6.34,6.58,6.52,6.73,6.48,6.52,6.51,6.41,6.48,6.70,6.59
15,6.57,6.45,6.46,6.41,6.44,6.55,6.41,6.38,6.46,6.37,6.58,6.51,6.68,6.51,6.56,6.50,6.43,6.46,6.71,6.62
20,6.49,6.38,6.39,6.30,6.34,6.46,6.31,6.29,6.38,6.27,6.49,6.48,6.62,6.42,6.46,6.43,6.32,6.40,6.62,6.54
25,6.31,6.24,6.24,6.16,6.17,6.30,6.13,6.14,6.23,6.08,6.31,6.29,6.50,6.25,6.31,6.26,6.16,6.26,6.44,6.38
30,6.09,6.01,6.06,5.94,5.98,6.05,5.95,5.91,6.03,5.90,6.12,6.03,6.25,6.05,6.10,6.06,5.97,6.02,6.26,6.17
35,5.84,5.78,5.84,5.77,5.75,5.85,5.74,5.71,5.82,5.70,5.91,5.84,6.02,5.81,5.88,5.86,5.74,5.79,6.05,5.96
40,5.63,5.55,5.63,5.53,5.55,5.66,5.55,5.50,5.56,5.48,5.66,5.62,5.85,5.60,5.63,5.61,5.55,5.56,5.79,5.74
45,5.43,5.34,5.36,5.32,5.30,5.40,5.29,5.27,5.36,5.26,5.47,5.41,5.60,5.38,5.46,5.40,5.34,5.36,5.59,5.49
50,5.16,5.08,5.13,5.07,5.07,5.20,5.08,5.03,5.12,5.00,5.21,5.15,5.37,5.13,5.18,5.16,5.08,5.11,5.36,5.24
55,5.02,4.94,4.98,4.91,4.96,5.01,4.95,4.91,4.97,4.86,5.09,5.02,5.23,5.01,5.04,5.02,4.94,4.97,5.22,5.12
60,4.93,4.81,4.86,4.76,4.84,4.92,4.82,4.82,4.85,4.78,4.99,4.90,5.14,4.91,4.92,4.92,4.84,4.89,5.10,5.01
65,4.78,4.68,4.72,4.64,4.68,4.80,4.67,4.67,4.75,4.64,4.85,4.78,5.00,4.78,4.82,4.77,4.71,4.74,4.98,4.88
70,4.63,4.53,4.55,4.47,4.52,4.62,4.51,4.50,4.60,4.48,4.67,4.63,4.82,4.63,4.66,4.64,4.57,4.57,4.83,4.71
75,4.47,4.40,4.43,4.35,4.36,4.48,4.39,4.35,4.45,4.32,4.53,4.48,4.69,4.47,4.50,4.47,4.38,4.44,4.66,4.57
80,4.31,4.24,4.27,4.21,4.22,4.35,4.23,4.19,4.30,4.19,4.41,4.32,4.54,4.31,4.34,4.31,4.22,4.29,4.53,4.44
85,4.23,4.13,4.16,4.08,4.12,4.24,4.11,4.10,4.18,4.06,4.29,4.21,4.43,4.22,4.24,4.23,4.13,4.19,4.42,4.32
90,4.13,4.04,4.07,3.99,4.03,4.15,4.02,4.01,4.08,3.97,4.20,4.12,4.34,4.12,4.16,4.14,4.06,4.09,4.33,4.23
95,4.01,3.95,3.99,3.88,3.92,4.06,3.92,3.90,4.00,3.88,4.10,4.01,4.24,4.01,4.06,4.02,3.95,3.97,4.21,4.14
98,3.96,3.90,3.93,3.85,3.89,4.02,3.87,3.85,3.94,3.82,4.04,3.97,4.19,3.97,4.00,3.97,3.89,3.93,4.17,4.07
100,3.92,3.85,3.88,3.79,3.83,3.96,3.84,3.79,3.89,3.77,3.99,3.93,4.15,3.91,3.97,3.93,3.85,3.89,4.11,4.03"""

# --- DATA: Power (20 Days) ---
pwr_csv = """SoC,Day_1,Day_2,Day_3,Day_4,Day_5,Day_6,Day_7,Day_8,Day_9,Day_10,Day_11,Day_12,Day_13,Day_14,Day_15,Day_16,Day_17,Day_18,Day_19,Day_20
10,10.1,9.9,10.2,9.8,10.0,10.3,9.9,9.8,10.1,9.7,10.2,10.0,10.5,10.0,10.1,10.0,9.9,10.0,10.4,10.2
15,12.6,12.4,12.7,12.3,12.5,12.8,12.4,12.3,12.6,12.2,12.7,12.5,13.0,12.5,12.6,12.5,12.4,12.5,12.9,12.7
20,15.1,14.9,15.2,14.8,15.0,15.3,14.9,14.8,15.1,14.7,15.2,15.0,15.5,15.0,15.1,15.0,14.9,15.0,15.4,15.2
25,16.6,16.4,16.7,16.3,16.5,16.8,16.4,16.3,16.6,16.2,16.7,16.5,17.0,16.5,16.6,16.5,16.4,16.5,16.9,16.7
30,18.1,17.9,18.2,17.8,18.0,18.3,17.9,17.8,18.1,17.7,18.2,18.0,18.5,18.0,18.1,18.0,17.9,18.0,18.4,18.2
35,20.6,20.4,20.7,20.3,20.5,20.8,20.4,20.3,20.6,20.2,20.7,20.5,21.0,20.5,20.6,20.5,20.4,20.5,20.9,20.7
40,23.1,22.9,23.2,22.8,23.0,23.3,22.9,22.8,23.1,22.7,23.2,23.0,23.5,23.0,23.1,23.0,22.9,23.0,23.4,23.2
45,25.6,25.4,25.7,25.3,25.5,25.8,25.4,25.3,25.6,25.2,25.7,25.5,26.0,25.5,25.6,25.5,25.4,25.5,25.9,25.7
50,28.1,27.9,28.2,27.8,28.0,28.3,27.9,27.8,28.1,27.7,28.2,28.0,28.5,28.0,28.1,28.0,27.9,28.0,28.4,28.2
55,29.6,29.4,29.7,29.3,29.5,29.8,29.4,29.3,29.6,29.2,29.7,29.5,30.0,29.5,29.6,29.5,29.4,29.5,29.9,29.7
60,31.1,30.9,31.2,30.8,31.0,31.3,30.9,30.8,31.1,30.7,31.2,31.0,31.5,31.0,31.1,31.0,30.9,31.0,31.4,31.2
65,33.1,32.9,33.2,32.8,33.0,33.3,32.9,32.8,33.1,32.7,33.2,33.0,33.5,33.0,33.1,33.0,32.9,33.0,33.4,33.2
70,35.1,34.9,35.2,34.8,35.0,35.3,34.9,34.8,35.1,34.7,35.2,35.0,35.5,35.0,35.1,35.0,34.9,35.0,35.4,35.2
75,36.6,36.4,36.7,36.3,36.5,36.8,36.4,36.3,36.6,36.2,36.7,36.5,37.0,36.5,36.6,36.5,36.4,36.5,36.9,36.7
80,38.1,37.9,38.2,37.8,38.0,38.3,37.9,37.8,38.1,37.7,38.2,38.0,38.5,38.0,38.1,38.0,37.9,38.0,38.4,38.2
85,39.1,38.9,39.2,38.8,39.0,39.3,38.9,38.8,39.1,38.7,39.2,39.0,39.5,39.0,39.1,39.0,38.9,39.0,39.4,39.2
90,40.1,39.9,40.2,39.8,40.0,40.3,39.9,39.8,40.1,39.7,40.2,40.0,40.5,40.0,40.1,40.0,39.9,40.0,40.4,40.2
95,41.1,40.9,41.2,40.8,41.0,41.3,40.9,40.8,41.1,40.7,41.2,41.0,41.5,41.0,41.1,41.0,40.9,41.0,41.4,41.2
98,41.6,41.4,41.7,41.3,41.5,41.8,41.4,41.3,41.6,41.2,41.7,41.5,42.0,41.5,41.6,41.5,41.4,41.5,41.9,41.7
100,42.1,41.9,42.2,41.8,42.0,42.3,41.9,41.8,42.1,41.7,42.2,42.0,42.5,42.0,42.1,42.0,41.9,42.0,42.4,42.2"""

df_res = pd.read_csv(io.StringIO(res_csv))
df_pwr = pd.read_csv(io.StringIO(pwr_csv))

# --- PLOTTING ---
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(18, 6))

# Plot Resistance
for col in df_res.columns[1:]:
    ax1.plot(df_res['SoC'], df_res[col], color='gray', alpha=0.3)
ax1.plot(df_res['SoC'], df_res.iloc[:, 1:].mean(axis=1), color='blue', linewidth=2.5, label='Avg Resistance')
ax1.set_title('Golf Cart: Internal Resistance (20 Days)')
ax1.set_xlabel('SoC (%)')
ax1.set_ylabel('Resistance (mÎ©)')
ax1.grid(True, linestyle='--')
ax1.legend()

# Plot Power
for col in df_pwr.columns[1:]:
    ax2.plot(df_pwr['SoC'], df_pwr[col], color='lightblue', alpha=0.5)
ax2.plot(df_pwr['SoC'], df_pwr.iloc[:, 1:].mean(axis=1), color='blue', linewidth=2.5, label='Avg Power')
ax2.set_title('Golf Cart: Discharge Power Capability (20 Days)')
ax2.set_xlabel('SoC (%)')
ax2.set_ylabel('Power (kW)')
ax2.grid(True, linestyle='--')
ax2.legend()

plt.tight_layout()
plt.show()
