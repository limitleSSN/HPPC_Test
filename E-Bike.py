import pandas as pd
import matplotlib.pyplot as plt
import io

# --- DATA: Resistance (33 Days) ---
res_csv = """SoC,Day_1,Day_2,Day_3,Day_4,Day_5,Day_6,Day_7,Day_8,Day_9,Day_10,Day_11,Day_12,Day_13,Day_14,Day_15,Day_16,Day_17,Day_18,Day_19,Day_20,Day_21,Day_22,Day_23,Day_24,Day_25,Day_26,Day_27,Day_28,Day_29,Day_30,Day_31,Day_32,Day_33
10.0,58.13,58.05,58.77,58.30,56.59,58.98,58.36,58.70,58.49,57.47,57.78,57.99,57.80,58.48,58.71,57.53,58.46,58.18,57.44,57.90,57.94,57.96,57.75,58.28,58.28,57.25,58.36,57.36,58.21,58.52,57.67,57.95,57.82
14.7,55.77,55.92,56.57,56.25,54.45,56.72,56.09,56.38,56.30,55.38,55.71,55.61,55.81,56.40,56.30,55.37,56.21,55.91,55.51,55.71,55.46,55.91,55.46,56.38,56.13,55.17,56.26,55.32,56.09,56.20,55.60,55.78,55.47
19.5,54.22,54.25,55.09,54.36,52.83,54.87,54.56,54.43,54.59,53.64,54.00,54.09,54.13,54.93,54.62,53.74,54.54,54.46,53.85,54.17,54.13,54.02,53.94,54.75,54.55,53.51,54.68,53.54,54.11,54.71,54.02,54.31,53.97
24.2,52.86,53.03,53.74,53.39,51.73,53.82,53.31,53.60,53.43,52.33,53.00,52.77,52.69,53.58,53.64,52.52,53.64,53.14,52.49,52.80,52.81,52.81,52.57,53.32,53.36,52.34,53.28,52.26,52.98,53.47,52.83,53.06,52.63
28.9,52.01,52.14,52.92,52.37,50.87,53.00,52.38,52.58,52.69,51.64,52.03,51.80,52.04,52.83,52.49,51.50,52.46,52.40,51.65,52.11,51.84,52.08,51.70,52.57,52.65,51.44,52.47,51.58,52.15,52.51,51.86,52.25,51.77
33.7,51.51,51.64,52.50,51.76,50.28,52.38,52.04,51.95,52.01,50.98,51.54,51.33,51.49,52.14,52.17,51.05,52.00,51.93,50.95,51.47,51.35,51.37,51.28,51.79,51.91,50.66,51.86,51.19,51.54,52.07,51.29,51.53,51.23
38.4,51.12,51.25,51.89,51.37,49.82,51.92,51.55,51.76,51.58,50.73,51.03,50.96,51.03,51.50,51.54,50.69,51.62,51.39,50.71,51.11,51.11,50.93,50.76,51.57,51.49,50.37,51.45,50.41,51.28,51.86,50.84,51.04,50.75
43.2,50.72,51.03,51.66,51.05,49.47,51.64,51.13,51.20,51.33,50.50,50.80,50.72,50.69,51.29,51.26,50.27,51.36,51.05,50.28,50.88,50.72,50.61,50.44,51.21,51.13,50.08,51.09,50.18,50.97,51.33,50.46,50.81,50.57
47.9,50.25,50.63,51.42,50.65,49.21,51.42,50.75,51.21,50.99,50.20,50.54,50.34,50.60,51.14,51.16,50.05,51.10,50.75,49.97,50.65,50.17,50.61,50.18,50.89,50.83,49.92,50.78,50.06,50.83,50.86,50.22,50.53,50.48
52.6,50.25,50.47,51.25,50.71,49.07,51.05,50.61,51.00,50.63,49.94,50.30,50.25,50.19,50.75,51.00,50.01,50.66,50.50,49.86,50.37,50.26,50.16,50.14,50.82,50.60,49.73,50.44,49.73,50.47,50.75,50.22,50.47,49.84
57.4,50.12,50.47,51.08,50.51,48.91,51.01,50.53,50.75,50.58,49.83,49.85,49.96,50.22,50.71,50.79,49.46,50.56,50.52,49.59,50.03,49.98,50.01,49.79,50.75,50.59,49.37,50.48,49.53,50.16,50.52,49.80,50.19,49.88
62.1,49.83,50.07,50.77,50.33,48.75,50.78,50.23,50.50,50.11,49.37,49.83,49.56,49.75,50.22,50.51,49.65,50.40,49.92,49.42,49.96,49.81,49.66,49.63,50.46,50.20,49.07,50.24,49.33,50.21,50.26,49.80,49.71,49.39
66.8,49.63,49.84,50.42,50.04,48.36,50.47,49.88,50.23,50.14,49.17,49.70,49.62,49.68,50.17,50.17,49.31,50.13,49.91,49.16,49.80,49.42,49.56,49.43,50.08,50.21,49.02,50.09,49.07,49.94,50.16,49.35,49.54,49.43
71.6,49.37,49.59,50.40,49.79,48.14,50.30,49.80,49.94,49.96,49.00,49.32,49.38,49.52,49.99,49.93,48.92,49.78,49.80,48.95,49.44,49.40,49.28,49.12,50.02,49.86,48.87,49.74,48.84,49.60,50.05,49.00,49.38,48.93
76.3,48.96,49.13,50.34,49.31,48.02,50.11,49.52,49.65,49.78,48.70,49.20,49.00,48.97,49.50,49.79,48.87,49.57,49.34,48.69,48.99,49.16,49.07,48.73,49.73,49.69,48.63,49.35,48.57,49.52,49.64,48.86,49.34,48.83
81.1,48.97,49.06,49.92,49.28,47.54,49.67,49.27,49.77,49.52,48.54,48.81,48.80,48.93,49.52,49.62,48.39,49.39,49.21,48.64,48.83,48.85,48.82,48.66,49.62,49.32,48.24,49.37,48.49,49.41,49.30,48.73,48.88,48.70
85.8,48.63,48.68,49.70,48.96,47.54,49.73,49.00,49.30,49.28,48.29,48.64,48.57,48.62,49.37,49.27,48.35,49.09,49.00,48.34,48.80,48.65,48.68,48.56,49.20,49.30,48.06,49.35,48.18,48.87,49.26,48.50,48.78,48.35
90.5,48.50,48.83,49.46,48.90,47.23,49.54,49.01,49.10,49.02,48.16,48.59,48.52,48.62,49.23,49.14,48.01,49.05,48.94,48.08,48.59,48.62,48.51,48.37,49.18,48.97,47.87,48.93,48.01,48.72,48.94,48.08,48.59,48.62
95.3,48.51,48.83,49.38,48.97,47.38,49.45,48.77,49.10,48.93,48.05,48.29,48.33,48.60,48.88,49.06,48.22,49.02,48.93,48.08,48.75,48.46,48.42,48.21,49.18,48.91,47.97,48.96,48.00,48.77,49.06,48.49,48.57,48.31
100.0,48.36,48.58,49.24,48.81,47.33,49.42,48.84,49.14,48.99,48.14,48.57,48.45,48.61,48.87,49.10,47.97,48.99,48.72,47.94,48.45,48.36,48.34,48.11,48.77,48.74,47.80,48.96,48.03,48.63,48.97,48.28,48.56,48.30"""

# --- DATA: Power (33 Days) ---
pwr_csv = """SoC,Day_1,Day_2,Day_3,Day_4,Day_5,Day_6,Day_7,Day_8,Day_9,Day_10,Day_11,Day_12,Day_13,Day_14,Day_15,Day_16,Day_17,Day_18,Day_19,Day_20,Day_21,Day_22,Day_23,Day_24,Day_25,Day_26,Day_27,Day_28,Day_29,Day_30,Day_31,Day_32,Day_33
10,1.61,1.59,1.62,1.60,1.61,1.63,1.59,1.58,1.60,1.58,1.62,1.61,1.64,1.61,1.61,1.60,1.59,1.60,1.63,1.62,1.61,1.60,1.62,1.60,1.61,1.62,1.59,1.63,1.58,1.61,1.62,1.60,1.61,1.60
20,1.86,1.84,1.87,1.85,1.86,1.88,1.84,1.83,1.85,1.83,1.87,1.86,1.89,1.86,1.86,1.85,1.84,1.85,1.88,1.87,1.86,1.85,1.87,1.85,1.86,1.87,1.84,1.88,1.83,1.86,1.87,1.85,1.86,1.85
30,2.11,2.09,2.12,2.10,2.11,2.13,2.09,2.08,2.10,2.08,2.12,2.11,2.14,2.11,2.11,2.10,2.09,2.10,2.13,2.12,2.11,2.10,2.12,2.10,2.11,2.12,2.09,2.13,2.08,2.11,2.12,2.10,2.11,2.10
40,2.36,2.34,2.37,2.35,2.36,2.38,2.34,2.33,2.35,2.33,2.37,2.36,2.39,2.36,2.36,2.35,2.34,2.35,2.38,2.37,2.36,2.35,2.37,2.35,2.36,2.37,2.34,2.38,2.33,2.36,2.37,2.35,2.36,2.35
50,2.46,2.44,2.47,2.45,2.46,2.48,2.44,2.43,2.45,2.43,2.47,2.46,2.49,2.46,2.46,2.45,2.44,2.45,2.48,2.47,2.46,2.45,2.47,2.45,2.46,2.47,2.44,2.48,2.43,2.46,2.47,2.45,2.46,2.45
60,2.56,2.54,2.57,2.55,2.56,2.58,2.54,2.53,2.55,2.53,2.57,2.56,2.59,2.56,2.56,2.55,2.54,2.55,2.58,2.57,2.56,2.55,2.57,2.55,2.56,2.57,2.54,2.58,2.53,2.56,2.57,2.55,2.56,2.55
70,2.66,2.64,2.67,2.65,2.66,2.68,2.64,2.63,2.65,2.63,2.67,2.66,2.69,2.66,2.66,2.65,2.64,2.65,2.68,2.67,2.66,2.65,2.67,2.65,2.66,2.67,2.64,2.68,2.63,2.66,2.67,2.65,2.66,2.65
80,2.76,2.74,2.77,2.75,2.76,2.78,2.74,2.73,2.75,2.73,2.77,2.76,2.79,2.76,2.76,2.75,2.74,2.75,2.78,2.77,2.76,2.75,2.77,2.75,2.76,2.77,2.74,2.78,2.73,2.76,2.77,2.75,2.76,2.75
90,2.86,2.84,2.87,2.85,2.86,2.88,2.84,2.83,2.85,2.83,2.87,2.86,2.89,2.86,2.86,2.85,2.84,2.85,2.88,2.87,2.86,2.85,2.87,2.85,2.86,2.87,2.84,2.88,2.83,2.86,2.87,2.85,2.86,2.85
100,2.96,2.94,2.97,2.95,2.96,2.98,2.94,2.93,2.95,2.93,2.97,2.96,2.99,2.96,2.96,2.95,2.94,2.95,2.98,2.97,2.96,2.95,2.97,2.95,2.96,2.97,2.94,2.98,2.93,2.96,2.97,2.95,2.96,2.95"""

df_res = pd.read_csv(io.StringIO(res_csv))
df_pwr = pd.read_csv(io.StringIO(pwr_csv))

# --- PLOTTING ---
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(18, 6))

# Plot Resistance
for col in df_res.columns[1:]:
    ax1.plot(df_res['SoC'], df_res[col], color='gray', alpha=0.3)
ax1.plot(df_res['SoC'], df_res.iloc[:, 1:].mean(axis=1), color='green', linewidth=2.5, label='Avg Resistance')
ax1.set_title('Scooter: Internal Resistance (33 Days)')
ax1.set_xlabel('SoC (%)')
ax1.set_ylabel('Resistance (mÎ©)')
ax1.grid(True, linestyle='--')
ax1.legend()

# Plot Power
for col in df_pwr.columns[1:]:
    ax2.plot(df_pwr['SoC'], df_pwr[col], color='lightgreen', alpha=0.5)
ax2.plot(df_pwr['SoC'], df_pwr.iloc[:, 1:].mean(axis=1), color='green', linewidth=2.5, label='Avg Power')
ax2.set_title('Scooter: Discharge Power Capability (33 Days)')
ax2.set_xlabel('SoC (%)')
ax2.set_ylabel('Power (kW)')
ax2.grid(True, linestyle='--')
ax2.legend()

plt.tight_layout()
plt.show()
